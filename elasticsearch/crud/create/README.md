## 文档的 ID

在 Elasticsearch 中，每个被索引的文档都可以有一个标识符（ID），通常由用户指定。这个 ID 类似于关系数据库中的主键，一旦与文档关联，就会在文档的生命周期内保持不变（除非用户有意改变它）。

- 如果客户端提供了文档的 ID，我们使用 HTTP **PUT 方法**调用文档 API 来索引该文档。使用 PUT 方法必须带有文档 ID，否则会报错。
- 如果客户端没有提供文档的 ID，我们在索引时使用 HTTP **POST 方法**。在这种情况下，一旦文档被索引，它将继承系统生成的 ID。

那何时使用 PUT/POST 方法呢？

如果你想要控制文档的 ID 或者你已经知道文档的 ID，你应该使用 PUT 方法来索引文档。这些文档可以是你的领域对象，它们有预定义的身份策略（如主键）。如果你知道文档的 ID，你可以使用文档 API 来获取文档。

对于源自流数据或时间序列事件的文档，使用 ID 可能没有意义（比如来自定价服务器的价格报价，股价波动，来自云服务的系统警报，推文，或自动驾驶汽车的心跳）。对于这些事件和消息，有一个随机生成的 UUID 就足够了。在这种情况下，你应该使用 POST 方法来索引文档。
